<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>قسيمه الراتب</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css" rel="stylesheet">
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #007bff, #4a90e2);
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 15px;
        }
        .section-title {
            background-color: #f1f1f1;
            padding: 10px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .custom-table th, .custom-table td {
            text-align: center;
            vertical-align: middle;
        }
        .btn-add {
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <div class="gradient-bg text-center">
            <h3>قسيمه الراتب</h3>
        </div>
        <form>
            <!-- موظف وتاريخ التسجيل -->
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="employee" class="form-label">موظف *</label>
                    <select id="employee" class="form-select" required>
                        <option selected>إختر موظف</option>
                        <option value="1">موظف 1</option>
                        <option value="2">موظف 2</option>
                    </select>
                </div>
                <div class="col-md-6">
                    <label for="registrationDate" class="form-label">تاريخ التسجيل *</label>
                    <input type="text" id="registrationDate" class="form-control datepicker" required>
                </div>
            </div>

            <!-- تاريخ البدء وتاريخ الانتهاء -->
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="startDate" class="form-label">تاريخ البدء *</label>
                    <input type="text" id="startDate" class="form-control datepicker" required>
                </div>
                <div class="col-md-6">
                    <label for="endDate" class="form-label">تاريخ الإنتهاء *</label>
                    <input type="text" id="endDate" class="form-control datepicker" required>
                </div>
            </div>

            <!-- العملة -->
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="currency" class="form-label">العملة *</label>
                    <select id="currency" class="form-select" required>
                        <option selected>إختر العملة</option>
                        <option value="SAR">ريال سعودي</option>
                        <option value="USD">دولار أمريكي</option>
                    </select>
                </div>
            </div>

            <!-- مستحق -->
            <div class="section-title">مستحق</div>
            <table class="table table-bordered custom-table" id="earningsTable">
                <thead class="table-light">
                    <tr>
                        <th>بند الراتب</th>
                        <th>الصيغة الحسابية</th>
                        <th>المبلغ</th>
                        <th>إضافة</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <input type="text" class="form-control" placeholder="Basic">
                        </td>
                        <td>
                            <input type="text" class="form-control" placeholder="-">
                        </td>
                        <td>
                            <input type="number" class="form-control" placeholder="0">
                        </td>
                        <td>
                            <button type="button" class="btn btn-light btn-sm btn-add-row">
                                <span class="bi bi-plus-circle"></span> إضافة
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>

            <!-- مستقطع -->
            <div class="section-title">مستقطع</div>
            <table class="table table-bordered custom-table" id="deductionsTable">
                <thead class="table-light">
                    <tr>
                        <th>بند الراتب</th>
                        <th>الصيغة الحسابية</th>
                        <th>المبلغ</th>
                        <th>إضافة</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <input type="text" class="form-control" placeholder="--">
                        </td>
                        <td>
                            <input type="text" class="form-control" placeholder="-">
                        </td>
                        <td>
                            <input type="number" class="form-control" placeholder="0">
                        </td>
                        <td>
                            <button type="button" class="btn btn-light btn-sm btn-add-row">
                                <span class="bi bi-plus-circle"></span> إضافة
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>

            <!-- اجمالى الراتب وإجمالى الخصم -->
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="totalSalary" class="form-label">اجمالى الراتب</label>
                    <input type="number" id="totalSalary" class="form-control" value="0.00" readonly>
                </div>
                <div class="col-md-6">
                    <label for="totalDeductions" class="form-label">اجمالى الخصم</label>
                    <input type="number" id="totalDeductions" class="form-control" value="0.00" readonly>
                </div>
            </div>

            <!-- صافى الراتب -->
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="netSalary" class="form-label">صافى الراتب</label>
                    <input type="number" id="netSalary" class="form-control" value="0.00" readonly>
                </div>
            </div>

            <!-- الملاحظات -->
            <div class="row mb-3">
                <div class="col-12">
                    <label for="notes" class="form-label">الملاحظات</label>
                    <textarea id="notes" class="form-control" rows="3"></textarea>
                </div>
            </div>

            <!-- المرفقات -->
            <div class="row mb-3">
                <div class="col-12">
                    <label for="attachments" class="form-label">المرفقات</label>
                    <div class="border p-4 rounded text-center" style="border: 2px dashed #ccc; background-color: #f9f9f9;">
                        <input type="file" id="attachments" class="form-control d-none">
                        <div style="cursor: pointer;" onclick="document.getElementById('attachments').click();">
                            <span class="bi bi-cloud-arrow-up" style="font-size: 2rem; color: #007bff;"></span>
                            <p class="mt-2">انقر لتحميل الملف أو اختر من جهازك</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- زر الإضافة -->
            <div class="text-end">
                <button type="submit" class="btn btn-primary">إضافة</button>
            </div>
        </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script>
        flatpickr(".datepicker", {
            locale: "ar",
            dateFormat: "Y-m-d",
            monthSelectorType: "static"
        });

        document.addEventListener('DOMContentLoaded', function () {
            document.querySelectorAll('.btn-add-row').forEach(function (button) {
                button.addEventListener('click', function () {
                    let table = button.closest('table').querySelector('tbody');
                    let newRow = document.createElement('tr');
                    newRow.innerHTML = `
                        <td><input type="text" class="form-control" placeholder="--"></td>
                        <td><input type="text" class="form-control" placeholder="-"></td>
                        <td><input type="number" class="form-control" placeholder="0"></td>
                        <td><button type="button" class="btn btn-light btn-sm btn-add-row"><span class="bi bi-plus-circle"></span> إضافة</button></td>
                    `;
                    table.appendChild(newRow);
                    newRow.querySelector('.btn-add-row').addEventListener('click', function () {
                        let clonedRow = newRow.cloneNode(true);
                        table.appendChild(clonedRow);
                    });
                });
            });
        });
    </script>
</body>
</html>
